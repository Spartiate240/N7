network:
  name: PR01-Dynamique
  version: 0.1
  hosts:
    - EquipementUtilisateur1
      mode : netns
      init : ./scripts/EquipementUtilisateur1
 
    - EquipementUtilisateur2
      mode : netns
      init : ./scripts/EquipementUtilisateur2
 
    - Box2
      mode : docker
      image : dhcp_n7:latest
      files : ./files/Box2/etc:/
 
 
    - RouteurFAI
      mode : docker
      image : quagga_n7:latest
      files : ./files/RouteurFAI/etc:/
 
 
    - Routeur1
      mode : docker
      image : quagga_n7:latest
      files : ./files/Routeur1/etc:/
 
    - Box1
      mode : docker
      image : dhcp_n7:latest
      files : ./files/Box1/etc:/
 
    - Routeur2
      mode : docker
      image : quagga_n7:latest
      files : ./files/Routeur2/etc:/
 
    - RouteurService
      mode : docker
      image : quagga_n7:latest
      files : ./files/RouteurService/etc:/
 
    - RouteurServiceReseau
      mode : docker
      image : quagga_n7:latest
      files : ./files/RouteurServiceReseau/etc:/
 
    - ServeurWebUtilisateur
      mode : docker
      image : apache_n7:latest
      files : ./files/ServeurWebUtilisateur/var:/
 
    - ServeurWeb
      mode : docker
      image : apache_n7:latest
      files : ./files/ServeurWeb/var:/
 
    - ServeurDns
      mode : docker
      image : dns_n7:latest
      files : ./files/ServeurDns/etc:/
 
  links :
    - RouteurFAI:eth2!Box2:eth0
    - EquipementUtilisateur1:eth0!Box1:eth0
    - Box1:eth1!RouteurFAI:eth0
    - Routeur1:eth0!RouteurService:eth0
    - RouteurService:eth2!RouteurServiceReseau:eth0
    - Routeur2:eth1!RouteurServiceReseau:eth2
    - RouteurService:eth1!ServeurWeb:eth0
    - RouteurServiceReseau:eth1!ServeurDns:eth0
 
  bridges:
    - Switch0
      interfaces: Box2:eth1!EquipementUtilisateur2:eth0!ServeurWebUtilisateur:eth0!
    - Switch1
      interfaces: Routeur2:eth0!RouteurFAI:eth1!Routeur1:eth1!
 
  consoles :
    - all
